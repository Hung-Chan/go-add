kind: pipeline
type: docker
name: default

steps:
- name: test
  image: golang
  volumes:
  - name: deps
    path: /go
  commands:
  - go test
  when:
    branch:
      - dev

- name: build
  image: golang
  volumes:
  - name: deps
    path: /go
  commands:
  - go build

- name: deploy
  image: appleboy/drone-ssh
  settings:
    host: 127.0.0.1
    username: root
    password: password
    port: 9654
    script:
      - echo hello
      - echo world

volumes:
- name: deps
  temp: {}


